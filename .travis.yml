language: python
python:
  - 3.6
env:
  - LUA="lua=5.3"
before_install:
  - pip install hererocks
  - hererocks lua_install -r^ --$LUA
  - export PATH=$PATH:$PWD/lua_install/bin
install:
  - pip install -r requirements.txt
branches:
  only:
    - master
script:
  - python LuatableBot.py
before_deploy:
  - cp docs/index.html output/index.html
  - cp docs/style.css output/style.css
deploy:
  provider: pages
  name: MZI
  email: macchenjl@foxmail.com
  github_token: $GITHUB_TOKEN
  skip-cleanup: true
  keep-history: true
  local-dir: output
  on:
    branch: master
